<div>
  <h2>JamesF890's Magical Club Merger</h2>
  <div>
    <input type="text" [(ngModel)]="firstClubId" placeholder="Club 1 Id">
    <button (click)="loadClubEvents(firstClubId)">Load</button>

    <div *ngIf="clubChampionshipSummary[firstClubId]">
      <select [(ngModel)]="firstEvent">
        <option [ngValue]="event" *ngFor="let event of clubChampionshipSummary[firstClubId].events">{{event.eventName}} - {{event.stageName}} -- {{event.isFinished}}</option>
      </select>
    </div>


  </div>
  <div>
    <input type="text" [(ngModel)]="secondClubId" placeholder="Club 2 Id">
    <button (click)="loadClubEvents(secondClubId)">Load</button>

    <div *ngIf="clubChampionshipSummary[secondClubId]">
      <select [(ngModel)]="secondEvent">
        <option [ngValue]="event" *ngFor="let event of clubChampionshipSummary[secondClubId].events">{{event.eventName}} - {{event.stageName}} - {{event.isFinished}}</option>
      </select>
    </div>

  </div>

  <div *ngIf="clubChampionshipSummary[firstClubId] && clubChampionshipSummary[secondClubId]">
    Merging: <br/>
    {{firstEvent.eventName}} - {{firstEvent.stageName}} <br/>
    {{secondEvent.eventName}} - {{secondEvent.stageName}} <br/>
    <button (click)="mergeResults()">Merge</button>
  </div>

  <div>
    <table>
      <tr>
        <th>Rank</th>
        <th>Name</th>
        <th>Time</th>
      </tr>
      <tr *ngFor="let entry of mergedEntries;let i=index">
        <td>{{i+1}}</td>
        <td>{{entry.key}}</td>
        <td>{{entry.rallyTime}}</td>
      </tr>
    </table>

    //In case the above isn't copyable
    <div *ngFor="let entry of mergedEntries;let i=index">
      {{i+1}};{{entry.key}};{{entry.rallyTime}}

    </div>
  </div>

</div>
